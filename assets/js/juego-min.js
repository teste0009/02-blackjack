const miModulo=(()=>{"use strict";let e=[],t=[],l=["C","D","T","P"],a=["A","J","Q","K"],r=document.querySelector("#btnNuevoJuego"),n=document.querySelector("#btnPedirCarta"),o=document.querySelector("#btnDetener"),s=document.querySelectorAll("small"),d=document.querySelectorAll(".divCarta"),i=(e=2)=>{console.clear(),n.disabled=!1,o.disabled=!1,t=[];for(let l=0;l<e;l++)t.push(0);s.forEach(e=>e.innerText=0),d.forEach(e=>e.innerText=""),c()},c=()=>{e=[];for(let t=2;t<=10;t++)for(let r of l)e.push(t+r);for(let n of a)for(let o of l)e.push(n+o);e=_.shuffle(e),console.log(e)},u=()=>{if(0==e.length)throw"No hay cartas en la baraja";return e.pop()},$=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},g=(e,t)=>{let l=document.createElement("img");l.classList.add("carta"),l.src=`assets/cartas/${e}.png`,d[t].append(l)},f=()=>{let[e,l]=t;setTimeout(()=>{e==l?alert("Nadie gana, tablas!!"):e>21||l>e&&l<=21?alert("Computador gana"):l>21&&alert("Jugador gana!!")},300)},h=(e,l)=>(t[l]+=$(e),s[l].innerText=t[l],t[l]),b=e=>{let l=0;do{let a=u();l=h(a,t.length-1),g(a,d.length-1)}while(l<e&&e<=21);f()};return r.addEventListener("click",()=>{i()}),n.addEventListener("click",()=>{let t=u(),l=h(t,0);g(t,0),console.log(l),l>21?(setTimeout(()=>{b(l),n.disabled=!0,o.disabled=!0},800),console.warn("Lo siento, perdiste!!")):21==l&&console.log("21 genial."),console.log(e)}),o.addEventListener("click",()=>{b(t[0]),n.disabled=!0,o.disabled=!0}),{nuevoJuego:i,valorCarta:$}})();